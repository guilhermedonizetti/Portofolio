<!DOCTYPE HTML>
<!--
	Strata by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Guilherme - Notas Fiscais</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="Software de apoio à visualização de dados que conecta à qualquer banco de dados MySQL e permite selecionar as colunas para formar gráficos" />
		<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/main.css') }}" />
		<link rel="shortcut icon" href="../static/images/site_icon.png">
	</head>

	<style>
		#header {
			background-image: url("images/overlay.png"), url("../static/images/{{ nome_banner }}.jpg");
		}
	</style>
	
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<div class="inner">
				</div>
			</header>

		<!-- Main -->
			<div id="main">

				<!-- One -->
					<section id="one">
						<header class="major">
							<h3>
								<b><a href="/">Página Inicial</a> <i class="fas fa-angle-right"></i> </b>
								Notas Fiscais
							</h3>
						</header>
						<p>Desenvolvi o recurso para emitir automaticamente as Notas Fiscais de cada venda cadastrada no sistema de gestão da <a href="https://www.autoestimamaistop.com/" target="_blank">Mais Top Estética</a><br>
						<br>Durante o processo de venda, o recurso já separa os dados da transação que serão usados na emissão da Nota. Os dados coletados são referentes à unidade (prestador), ao serviço/produto e ao cliente (tomador). Em seguida, um algoritmo identifica no banco de dados as Notas que devem ser emitidas e executa a emissão automaticamente, em <i>cron job</i>.<br></p>

						<center>
							<figure>
								<img src="https://raw.githubusercontent.com/guilhermedonizetti/Portofolio/master/static/images/diagrama_nota_fiscal.avif" alt="Diagrama Nota Fiscal" width="90%">
								<figcaption>Diagrama do Fluxo da Nota Fiscal.</figcaption>
							</figure>
						</center>

						<p><br>O algoritmo desenvolvido verifica se o prestador e o tomador da Nota possuem todos os dados necessários para executar a emissão. Após isso, cria o JSon e envia os dados para a SEFAZ do estado em que a venda acontece (NFC-e), ou para a prefeitura do município (NFS-e).<br>
						<br>Se a SEFAZ/Prefeitura aprovar ou rejeitar a emissão, o sistema será atualizado por <i>webhook</i>. Com isso, desenvolvi um algoritmo capaz de lidar com os diferentes retornos possíveis (aprovado, rejeitado, processando, cancelado, etc.), e executar tarefas como registro de logs, atualização do status da emissão, entre outros. Após a aprovação da Nota Fiscal, o PDF e o XML são disponibilizados automaticamente numa página de controle das Notas.<br>
						<br>As unidades podem gerenciar os dados fiscais, como por exemplo: alíquota, regime tributário, código de serviço, razão social, entre outros.<br>

						<blockquote>
							<b>Obs.: Emitir Notas Fiscais é uma obrigação tributária de qualquer empresa que comercializa serviços e/ou produtos. Quem sonega, comete um crime. Assim, o recurso de emissão de NFS-e/NFC-e automático, além de ser mais prático e facilitado para a empresa, ajuda a mesma a se manter regularizada, se mostrando como um recurso de grande valor para sistemas de gestão e comercial.</b>
						</blockquote>
						
						<p><br>O maior desafio para desenvolver foi compreender a questão fiscal relacionado à emissão de Notas, assunto da área de Contabilidade. Através de conversas com Contadores por telefone e e-mail, consegui aprender e programei e revisei a eficiência do recurso. Atualmente, as unidades de diferentes estados do país emitem a NF por essa programação. Desde que o recurso entrou em Produção, todas as rejeições estão relacionadas apenas à irregularidades do prestador ou do tomador (CPF inválido, certificado digital vencido, entre outros), e não ao sistema.<br>
						<br>Essa programação foi dessenvolvida para a empresa mencionada no começo, com isso não apresento mais detalhes ou imagens do resultado.<br><br><br>

						<b>Tecnologias usadas: </b>PHP, SQL, Postman, RESTful API.</p>

					</section>

							<div class="box alt">
								<div class="row gtr-50 gtr-uniform">
									<div class="col-12"><span class="image fit"><img src="../static/images/nota_fiscal.avif" alt="" /></span></div>
									<div class="col-12"><span class="image fit"><img src="../static/images/nota_fiscal_servico.avif" alt="" /></span></div>
								</div>
								<p>As imagens acima são de Notas sem valor fiscal com dados de simulação.</p>
							</div>

			</div>

	</body>

	<script type="text/javascript" src="{{ url_for('static', filename='assets/js/scripts.js') }}"></script>
</html>